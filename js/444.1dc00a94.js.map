{"version":3,"file":"js/444.1dc00a94.js","mappings":"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","sources":["webpack://week6/./src/views/OrderView.vue","webpack://week6/./src/components/OrderModal.vue","webpack://week6/./src/components/OrderModal.vue?b91a","webpack://week6/./src/components/DelModal.vue","webpack://week6/./src/components/DelModal.vue?ce42","webpack://week6/./src/views/OrderView.vue?77c4"],"sourcesContent":["<template>\r\n  <h2>訂單列表</h2>\r\n  <table class=\"table table-hover align-middle\">\r\n    <thead class=\"table-secondary\">\r\n      <tr>\r\n        <th scope=\"col\">訂單編號</th>\r\n        <th scope=\"col\">訂單日期</th>\r\n        <th scope=\"col\">訂購人姓名</th>\r\n        <th scope=\"col\">應付金額</th>\r\n        <th scope=\"col\">付款狀態</th>\r\n        <th scope=\"col\">備註</th>\r\n        <th scope=\"col\"></th>\r\n        <th scope=\"col\"></th>\r\n     </tr>\r\n    </thead>\r\n    <tbody>\r\n      <template v-for=\"order in orders\" :key=\"order.id\">\r\n        <tr>\r\n          <td scope=\"row\">{{order.id}}</td>\r\n          <td>{{$filters.date(order.create_at)}}</td>\r\n          <td>{{order.user.name}}</td>\r\n          <td>{{order.final_total}}</td>\r\n          <td><div class=\"form-check form-switch\">\r\n          <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"`paidSwitch${order.id}`\" v-model=\"order.is_paid\"\r\n                @change=\"updatePaid(order)\">\r\n          <label class=\"form-check-label\" for=\"`paidSwitch${order.id}`\">\r\n          <span v-if=\"order.is_paid\">已付款</span>\r\n          <span v-else>未付款</span>\r\n          </label></div></td>\r\n          <td>{{order.user.message}}</td>\r\n          <td><button type=\"button\" class=\"btn btn-primary\" @click=\"openModal(order)\">明細</button></td>\r\n          <td><button type=\"button\" class=\"btn btn-danger\" @click=\"openDelOrderModal(order)\">刪除</button></td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n   </table>\r\n   <OrderModal\r\n    :order=\"tempOrder\"\r\n    ref=\"orderModal\"\r\n    @update-paid=\"updatePaid\"\r\n  ></OrderModal>\r\n  <DelModal :order=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n  <Pagination :pages=\"pagination\" @emitPages=\"getOrders\"></Pagination>\r\n</template>\r\n<script>\r\nimport OrderModal from '@/components/OrderModal.vue'\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport Pagination from '@/components/PaginationView.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      pagination: {},\r\n      tempOrder: {},\r\n      currentPage: 1\r\n    }\r\n  },\r\n  components: {\r\n    Pagination,\r\n    DelModal,\r\n    OrderModal\r\n  },\r\n  methods: {\r\n    getOrders (currentPage = 1) {\r\n      this.currentPage = currentPage\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${this.currentPage}`\r\n        )\r\n        .then((res) => {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          alert(error.data.message)\r\n        })\r\n    },\r\n    openModal (order) {\r\n      this.tempOrder = { ...order }\r\n      this.isNew = false\r\n      const orderComponent = this.$refs.orderModal\r\n      orderComponent.openModal()\r\n      console.log(this)\r\n    },\r\n    openDelOrderModal (order) {\r\n      this.tempOrder = { ...order }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.openModal()\r\n    },\r\n    updatePaid (order) {\r\n      this.isLoading = true\r\n      const paid = {\r\n        is_paid: order.is_paid\r\n      }\r\n      this.$http\r\n        .put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${order.id}`, { data: paid })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          const orderComponent = this.$refs.orderModal\r\n          orderComponent.hideModal()\r\n          this.getOrders(this.currentPage)\r\n          alert(res.data.message)\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          alert(error.data.message)\r\n        })\r\n    },\r\n    delOrder () {\r\n      this.isLoading = true\r\n      this.$http\r\n        .delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`)\r\n        .then(() => {\r\n          this.isLoading = false\r\n          const delComponent = this.$refs.delModal\r\n          delComponent.closeModal()\r\n          this.getOrders(this.currentPage)\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          alert(error.data.message)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"OrderModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ tempOrder.total }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ item.final_total }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    id=\"flexCheckDefault\"\r\n                    v-model=\"tempOrder.is_paid\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-paid', tempOrder)\"\r\n          >\r\n            修改付款狀態\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false\r\n    }\r\n  },\r\n  emits: ['update-paid'],\r\n  mixins: [modalMixin],\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=0e048c00\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\hexschool\\\\vue-cli\\\\week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"delProductModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delProductModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title\" id=\"delProductModalLabel\">確定是否刪除!</h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            @click=\"closeModal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>\r\n            是否刪除<strong class=\"text-danger\">{{\r\n              order.user\r\n            }}</strong\r\n            >?(刪除後將無法復原!!)\r\n          </p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            @click=\"closeModal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"$emit('del-item')\">確定刪除</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    order: {}\r\n  },\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  emits: ['del-item'],\r\n  methods: {\r\n    openModal () {\r\n      console.log(this.order)\r\n      this.modal.show()\r\n    },\r\n    closeModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=f5f02e70\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\hexschool\\\\vue-cli\\\\week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderView.vue?vue&type=template&id=7dd16bf9\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\hexschool\\\\vue-cli\\\\week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","for","_hoisted_1","_hoisted_3","_createElementBlock","_Fragment","_renderList","$data","order","id","_toDisplayString","_ctx","date","create_at","user","name","final_total","type","role","is_paid","$event","onChange","$options","_hoisted_8","_hoisted_9","message","onClick","_hoisted_10","_hoisted_11","_createVNode","_component_OrderModal","ref","onUpdatePaid","_component_DelModal","onDelItem","_component_Pagination","pages","onEmitPages","tabindex","style","_hoisted_4","_hoisted_12","email","_hoisted_13","tel","_hoisted_14","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","total","_hoisted_27","_hoisted_29","products","item","key","product","title","qty","unit","value","_hoisted_34","_hoisted_35","_hoisted_37","props","Object","default","data","status","modal","tempOrder","isPaid","emits","mixins","modalMixin","watch","this","__exports__","_hoisted_5","$props","methods","openModal","console","log","show","closeModal","hide","mounted","Modal","$refs","orders","isNew","pagination","currentPage","components","Pagination","DelModal","OrderModal","getOrders","isLoading","$http","get","then","res","catch","error","alert","orderComponent","orderModal","openDelOrderModal","delComponent","delModal","updatePaid","paid","put","hideModal","delOrder","delete","created","render"],"sourceRoot":""}